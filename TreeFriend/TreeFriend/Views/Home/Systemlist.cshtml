
@{
    ViewData["Title"] = "系統文章頁面";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <style>
        .carousel-inner {
            width: 70%;
            margin: 0 auto;
        }
        .containers {
            width: 85%;
            margin: 0 auto;
        }

        .big {
            width: 100vw;
            margin: auto;
        }

        .pic-contents {
            width: 85vw;
            display: flex;
        }

        .contents {
            width: 40%;
            padding: 20px 20px;
        }

        .contents h3 {
            font-size: 26px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .contents p {
                font-size: 17px;
                border-top: solid 1px;
                letter-spacing: 0.1rem;
                line-height: 1.8;
                color: rgba(0, 0, 0, 0.6);
                margin-bottom: 1.8rem;
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                overflow: hidden;
        }


        ul {
            list-style-type: none;
        }


        .carousel-slide {
            margin-top: 40px;
            margin-bottom: 30px;
        }

        .content2 {
            width: 570px;
            grid-template-columns: minmax(0px,1fr)262px;
            display: flex;
        }


        h4 {
            text-align: center;
        }

        .title-message li {
            margin-bottom: 11px;
            padding-bottom: 12px;
            border-bottom: 1px solid #dedede;
            font-size: 14px;
            color: black;
        }

        .message1 {
            margin-bottom: 50px;
            margin-top: 15px;
        }

        .carousel1 {
            margin-bottom: 40px;
            margin-top: 30px;
        }

        .pic-contents a {
            text-decoration: none;
            color: black;
            transition: color .3s;
            -webkit-transition: color .3s;
            -moz-transition: color .3s;
            outline: none;
            cursor: pointer;
            width: 30%;
        }

        .title-message a {
            text-decoration: none;
            color: black;
            transition: color .3s;
            -webkit-transition: color .3s;
            -moz-transition: color .3s;
            outline: none;
            cursor: pointer;
        }

        .title-message a:hover {
            color: #795548;
        }

        .title1 {
            margin-bottom: 30px;
            border: 1px black solid;
            width: 160px;
            margin-left: 85px;
        }

        .imgsize {
            width: 100%;
        }

        .containers-img {
            height: 80%;
        }
    </style>
</head>

<body>
    @* 輪播的地方 *@
    <div id="GetAll">
        <div class="containers">
            <div style="margin: 50px 0;">
                <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <template v-for="(item,num1) in PicMessage">
                            <div v-if="num1 == 0" class="carousel-item active">
                                <img :src="item.picPath" class="d-block w-100" alt="">
                            </div>

                            <div v-else class="carousel-item">
                                <img :src="item.picPath" class="d-block w-100" alt="">
                            </div>
                        </template>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>

            @* 畫面左半部: 圖片 標題 內容 *@
            <div class="row justify-content-md-center" style="margin: auto;">
                <div class="row" style="width:75%">
                    <div class="col-xl-7 " style="margin: 20px 0 60px 0; padding: 0; " v-for="item in MessageList">
                        <div class="contaner">

                            <div class="pic-contents">
                                <a :href="'/Home/SystemDetail/?id=' +item.articleID"> <img v-bind:src="item.picPath" class="imgsize"> </a>
                                <div class="contents">
                                    <h3>{{item.title}}</h3>
                                    <p>{{item.description}}</p>
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-xl-1">
                    </div>
                </div>

                @* message1 最新文章 *@
                <div class="col-xl-3">
                    <div class="message1">
                        <aside class="title-message">
                            <h4 class="title1">
                                最新文章
                            </h4>
                            <ul v-for="item in MessageList">
                                <li> <a :href="'/Home/SystemDetail/?id=' +item.articleID">{{item.title}}</a> </li>
                            </ul>
                        </aside>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    var app = new Vue({
        el: '#GetAll',
        data: {
            MessageList: [],
            PicMessage: [],
            num: [],


        },
        mounted: function () {
            var self = this;
            axios.get("/SystemMessage/GetAllSystemMessage").then(function (result) {
                self.MessageList = result.data;
                console.log(result);

                axios.get("/SystemMessage/GetSystemMessageCarouselPic").then(function (result) {
                    self.PicMessage = result.data;
                    console.log(result);
                })
            })
        }
    });
</script>

